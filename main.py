from cryptography.fernet import Fernet
key = b'-GHN5hP1x-Oi4F2VAqr6dit2tnG9Yx370k6TDnkX7do='
cipher_suite = Fernet(key)

def decrypt_message(cipher_text, cipher_suite):
   plain_text = cipher_suite.decrypt(cipher_text)
   return plain_text.decode()

message_data = {'Mridul' : [{'message': '674141414141426c4c396647616c616a475078496c7a6a527048586437386c4343676a594e4748393242536250654c67365632653133493170724f3230776a4d3453484642345f3844617833566958557a755245655374613969476d6b5154325274555636414542726a794e365f484332376f675953733d', 'time': '2023-03-21 10:30:00'}, {'message': '674141414141426c4c3966473254496a53586a4e6476366d4a353659434679714d32586836454561577864757735675f544c4d4c634d5f333166507a4935615830505a3845724a7361686e52513052555f4a3879416f537651374b484b2d4b5f796a5672473079515141626f4d74656a4e6f2d5f61666c33676d4475306f455668564937586f6a4a627052565f57766866354733564a7073375447447535524964596677672d515476676b627a424743496e6a764a566b7770446673353667414d675056337461756175324c5a5f4d6c61574f506d4f6d58413564353752677631773d3d', 'time': '2023-03-21 10:35:00'}, {'message': '674141414141426c4c396647644a374e77497952386c59524c326b62725f7347576b7a484b6d6f7142763467773635596a4734707a51355f42774d385164554e74672d6458464c5478766c6a4d525567753775314f52643454364452477539375944634a795f7a4d31524630594f4a464d54505945546d6e5932356a486f486d4b54573275374971493744675f6d3231367343467161456c5f46486a6638625867676b58676c3350427a69416138457878673669715a6665456a6d32774f76333164446b6a34394976753841524e7556666f6332384f2d7753326a434539314853413d3d', 'time': '2023-03-21 10:40:00'}] ,

  'Vishal' : [{'message': '674141414141426c4c396647656b3062316f6f767436434f6c41794b6864767869445a375550704247734c5738525f51745f6b5967434a4e35664c59704250566c732d57685f6e52737a6143755f4932532d6273357a6e43346579426e445a356f4d4c54675f3955527a6f767165334e5a657961676f553d', 'time': '2023-03-21 10:32:00'}, {'message': '674141414141426c4c3966474d38585143706a4c4c73634e71425157673758485f4a38706f347966315046734c774f6937472d774c4a6552316f4a496a4b6e4f49334b4849635962422d73743338562d3544343751624f75357a414e364f33497958566f684e6c5771545f336f5f674f7559562d595a303d', 'time': '2023-03-21 10:37:00'}, {'message': '674141414141426c4c3966476e4b2d70627448307046314d6a4f7669684968504a34587a666e4a63776276313852476836356665476e48464a4764626e4368396c567133444c583330707a6a6e5f5668635569334372526642326f387441736c6a7278566d375f6b4265746c695051467033764a5834513d', 'time': '2023-03-21 10:42:00'}] 
}
for i in message_data:
     print(i, ':', message_data[i], '\n')
for person, messages in message_data.items():
    for message in messages:
      cipher_text = bytes.fromhex(message["message"])
      decrypted_message = decrypt_message(cipher_text, cipher_suite)
      message["message"] = decrypted_message
pass_ = input()
print("Decrypted message_data dictionary:")
for i in message_data:
   print(i, ':', message_data[i], '\n')
while True:
  pass_ = input()
  user = input('\nCopy-Paste your encrypted message: ')
  user.encode('utf-8')
  dec_msg = decrypt_message(user, cipher_suite)
  print('Your Message:', dec_msg)
